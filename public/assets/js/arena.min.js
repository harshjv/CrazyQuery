var chart;var imageHandler=function(a){if(a.image_path){$("#question_image").attr("href",a.image_path);$("#question_image img").attr("src",a.image_path);$("#question_image").show()}else{$("#question_image").hide()}};var skipHandler=function(a){a.preventDefault();disableOptions();doPost(route.skip,{},function(b){enableOptions()})};var optionButtonHandler=function(b){b.preventDefault();disableOptions();var a=$(this).attr("data-opt-id");var c=$(this).attr("data-qid");doPost(route.answer,{question_id:c,answer:a},function(d){enableOptions()})};var fillData=function(a){$("#points").text(a.score);$("#question_th").text(a.question_number);$("#question_th_suffix").text(suffix(a.question_number));$("#correct").text(a.correct_score);$("#incorrect").text(a.incorrect_score)};var checkSkip=function(a){if(a.last){$("#skip").unbind("click",skipHandler);$("#skip").remove()}else{$("#skip").unbind("click",skipHandler);$("#skip").bind("click",skipHandler)}};var disableOptions=function(){$(".option_buttons").unbind("click",optionButtonHandler);$(".option_buttons").attr("disabled","disabled")};var enableFinish=function(){$("#finish").click(function(a){a.preventDefault();disableOptions();doPost(route.finish)})};var enableOptions=function(){$(".option_buttons").attr("disabled",false);$(".option_buttons").bind("click",optionButtonHandler)};var fillQuestion=function(a){var d=shuffle(a.options.slice(0));var c;$("#question_title").html(a.title);imageHandler(a);for(var b=0;b<d.length;b++){c=$("#option_"+b);c.text(d[b].title);c.attr("data-opt-id",d[b].id);c.attr("data-qid",a.id)}};$(document).ready(function(){doPost(route.clock);doPost(route.init,{},function(a){enableOptions();enableFinish()})});