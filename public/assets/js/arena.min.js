var skipHandler=function(a){a.preventDefault();disableOptions();$.post("/api/skip",function(b){if(b.redirect){window.location=b.redirect;return}else{if(b.done){window.location="/result";return}else{fillQuestion(b.question);fillQuestionNumber(b.question_number);fillPoints(b.score);fillUpsAndDown(b);checkSkip(b);if(parseInt(b.question_number)==2){$(window).trigger("first_answer",[b.question_number-1,parseInt(b.score)])}else{window.chart.addData([parseInt(b.score)],""+(b.question_number-1)+"")}enableOptions()}}})};var optionButtonHandler=function(b){b.preventDefault();disableOptions();var a=$(this).attr("data-opt-id");$.post("/api/answer",{answer:a},function(c){if(c.redirect){window.location=c.redirect;return}else{if(c.done){window.location="/result"}else{fillQuestion(c.question);fillQuestionNumber(c.question_number);fillPoints(c.score);fillUpsAndDown(c);checkSkip(c);if(parseInt(c.question_number)==2){$(window).trigger("first_answer",[c.question_number-1,parseInt(c.score)])}else{window.chart.addData([parseInt(c.score)],""+(c.question_number-1)+"")}enableOptions()}}})};$(document).ready(function(){$.post("/api/init",function(a){if(a.redirect){window.location=a.redirect;return}initFill(a);checkSkip(a);if(a.question_number!=1){$(window).trigger("fill_answer",[a.question_track])}$(".option_buttons").bind("click",optionButtonHandler)})});function initFill(a){window.fillQuestion(a.question);window.fillPoints(a.score);window.fillQuestionNumber(a.question_number);window.fillUpsAndDown(a)};